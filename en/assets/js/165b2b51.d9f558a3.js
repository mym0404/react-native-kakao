"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5421],{3789:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var i=t(4848),o=t(8453);const a={sidebar_position:3},r="Android Setup",s={id:"install-android",title:"Android Setup",description:"Android Configuration",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/install-android.mdx",sourceDirName:".",slug:"/install-android",permalink:"/en/docs/install-android",draft:!1,unlisted:!1,editUrl:"https://github.com/mym0404/react-native-kakao/tree/main/docs/docs/install-android.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Core Package Installation",permalink:"/en/docs/install-core"},next:{title:"iOS Settings",permalink:"/en/docs/install-ios"}},d={},l=[{value:"Android Configuration",id:"android-configuration",level:2},{value:"Creating an Application and Registering a Platform in Kakao Console",id:"creating-an-application-and-registering-a-platform-in-kakao-console",level:2},{value:"Extracting and Registering the Key Hash",id:"extracting-and-registering-the-key-hash",level:2},{value:"Project Permissions",id:"project-permissions",level:2},{value:"Proguard Rules Setup",id:"proguard-rules-setup",level:2},{value:"Adding Gradle Dependency Repository",id:"adding-gradle-dependency-repository",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"android-setup",children:"Android Setup"}),"\n",(0,i.jsx)(n.h2,{id:"android-configuration",children:"Android Configuration"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"This document should be skipped except for the console setup if you are using Expo."})}),"\n",(0,i.jsxs)(n.p,{children:["For more detailed information about the setup, refer to the ",(0,i.jsx)(n.a,{href:"https://developers.kakao.com/docs/latest/ko/android/getting-started",children:"Kakao SDK documentation"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Here is how to configure the Android part:"}),"\n",(0,i.jsx)(n.h2,{id:"creating-an-application-and-registering-a-platform-in-kakao-console",children:"Creating an Application and Registering a Platform in Kakao Console"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://raw.githubusercontent.com/mym0404/image-archive/master/202404211426201.webp",alt:"feat1"})}),"\n",(0,i.jsxs)(n.p,{children:["As shown in the photo above, add an application at the ",(0,i.jsx)(n.a,{href:"https://developers.kakao.com/console/app",children:"Kakao Developers Console"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Now go to the platform tab, add an Android app, and register the package name, key hash, etc."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://raw.githubusercontent.com/mym0404/image-archive/master/202404211427510.webp",alt:"feat2"})}),"\n",(0,i.jsx)(n.h2,{id:"extracting-and-registering-the-key-hash",children:"Extracting and Registering the Key Hash"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://developers.kakao.com/docs/latest/ko/android/getting-started#before-you-begin-add-key-hash",children:"Key Hash official documentation"})}),"\n",(0,i.jsx)(n.p,{children:"A Key Hash is a hashed value of the certificate fingerprint used to determine if an app is malicious.\nWhen calling the Kakao API, the Kakao API server checks if the key hash value added to the request header matches the value registered on the Kakao platform."}),"\n",(0,i.jsxs)(n.p,{children:["There are two types of key hashes: ",(0,i.jsx)(n.strong,{children:"Debug key hash"})," and ",(0,i.jsx)(n.strong,{children:"Release key hash"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Debug key hash"}),": Hashed from the debug certificate automatically created by Android Studio to match the development environment when the project is first created or for debugging."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Release key hash"}),": Hashed from the release certificate created for distributing the app on the app store."]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:"In addition, there is one more key hash issued by the Google Play Console."}),(0,i.jsxs)(n.p,{children:["Through the Google Play Console, the ",(0,i.jsx)(n.a,{href:"https://play.google.com/console/about/app-integrity/",children:"App signing"})," is used to improve security and manage a Signing Key each time an app is released."]}),(0,i.jsxs)(n.p,{children:["You can obtain this key hash by referring to ",(0,i.jsx)(n.a,{href:"https://developers.kakao.com/docs/latest/ko/android/getting-started#before-you-begin-add-key-hash-using-console",children:"this document"}),"."]}),(0,i.jsx)(n.p,{children:"If this is not registered, the Kakao SDK will not operate when the app is launched on the Play Store."})]}),"\n",(0,i.jsxs)(n.p,{children:["You can easily obtain the key hash using the ",(0,i.jsx)(n.code,{children:"getKeyHashAndroid()"})," function from the ",(0,i.jsx)(n.code,{children:"core"})," package."]}),"\n",(0,i.jsx)(n.p,{children:"Print the result of this function in the console or text for debugging, release, and Play Store environments, and then use it."}),"\n",(0,i.jsxs)(n.p,{children:["For manual key hash generation, please refer to the ",(0,i.jsx)(n.a,{href:"https://developers.kakao.com/docs/latest/ko/android/getting-started#before-you-begin-add-key-hash",children:"official documentation"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"project-permissions",children:"Project Permissions"}),"\n",(0,i.jsxs)(n.p,{children:["Allow the use of the internet in the ",(0,i.jsx)(n.code,{children:"AndroidManifest.xml"})," of Android."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",metastring:"title='AndroidManifest.xml'",children:'<manifest xmlns:android="http://schemas.android.com/apk/res/android"\n    package="com.example.sample">\n\n// highlight-start\n    \x3c!-- Permission to use the internet --\x3e\n    <uses-permission android:name="android.permission.INTERNET" />\n// highlight-end\n\n    <application\n    android:allowBackup="true"\n        android:icon="@mipmap/ic_launcher"\n    ...\n'})}),"\n",(0,i.jsx)(n.h2,{id:"proguard-rules-setup",children:"Proguard Rules Setup"}),"\n",(0,i.jsxs)(n.p,{children:["If you are using the R8 compiler for obfuscation, the following syntax needs to be added to ",(0,i.jsx)(n.code,{children:"proguard-rules.pro"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Usually, the React Native setup can be configured with ",(0,i.jsx)(n.code,{children:"enableProguardInReleaseBuilds"})," in ",(0,i.jsx)(n.code,{children:"android/app/build.gradle"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["It is recommended to refer to the ",(0,i.jsx)(n.a,{href:"https://developers.kakao.com/docs/latest/ko/android/getting-started#project-pro-guard",children:"official documentation"})," for the latest rules."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",metastring:"title='proguard-rules.pro'",children:"- keep class com.kakao.sdk.**.model.* { <fields>; }\n- keep class * extends com.google.gson.TypeAdapter\n\n# https://github.com/square/okhttp/pull/6792\n-dontwarn org.bouncycastle.jsse.**\n-dontwarn org.conscrypt.*\n-dontwarn org.openjsse.**\n\n#------------------RETROFIT---------------------\n#R8 full mode strips generic signatures from return types if not kept.\n-if interface * { @retrofit2.http.* public *** *(...); }\n- keep,allowoptimization,allowshrinking,allowobfuscation class <3>\n#-------------------END--------------------------\n"})}),"\n",(0,i.jsx)(n.h2,{id:"adding-gradle-dependency-repository",children:"Adding Gradle Dependency Repository"}),"\n",(0,i.jsx)(n.p,{children:"You need to add a gradle repository where the package can search for the dependencies of the Kakao SDK."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-gradle",metastring:"title='android/build.gradle'",children:'allprojects {\n    repositories {\n        maven {\n// highlight-start\n            url "https://devrepo.kakao.com/nexus/content/groups/public/"\n// highlight-end\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["If your Android project declares dependency repositories in ",(0,i.jsx)(n.code,{children:"settings.gradle"}),", you can set it up according to the ",(0,i.jsx)(n.a,{href:"https://developers.kakao.com/docs/latest/ko/android/getting-started#apply-sdk-gradle",children:"official documentation"}),"."]})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var i=t(6540);const o={},a=i.createContext(o);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);