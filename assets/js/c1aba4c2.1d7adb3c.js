"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3962],{138:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>a});var c=s(4848),r=s(8453);const o={sidebar_position:102},i="\uce74\uce74\uc624 \ub85c\uadf8\uc778 (Web)",t={id:"user/login-web",title:"\uce74\uce74\uc624 \ub85c\uadf8\uc778 (Web)",description:"\uc6f9\uc5d0\uc11c \ub85c\uadf8\uc778\ud558\ub294 \ubc29\uc2dd\uc740 redirect uri\ub97c \uc774\uc6a9\ud55c \ud398\uc774\uc9c0 \uc774\ub3d9 \ubc29\uc2dd\uc774 \ub418\uc5b4\uc57c \ud558\uae30 \ub54c\ubb38\uc5d0 \ucd94\uac00\uc801\uc778 \uacfc\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.",source:"@site/docs/user/login-web.mdx",sourceDirName:"user",slug:"/user/login-web",permalink:"/docs/user/login-web",draft:!1,unlisted:!1,editUrl:"https://github.com/mym0404/react-native-kakao/tree/main/docs/docs/user/login-web.mdx",tags:[],version:"current",sidebarPosition:102,frontMatter:{sidebar_position:102},sidebar:"tutorialSidebar",previous:{title:"\uce74\uce74\uc624 \ub85c\uadf8\uc778",permalink:"/docs/user/login"},next:{title:"\ud504\ub85c\ud544 \ubd88\ub7ec\uc624\uae30",permalink:"/docs/user/profile"}},d={},a=[{value:"\ub85c\uadf8\uc778\ud558\uae30",id:"\ub85c\uadf8\uc778\ud558\uae30",level:2},{value:"\uce74\uce74\uc624 \ucf58\uc194\uc5d0\uc11c Redirect URI \ucd94\uac00",id:"\uce74\uce74\uc624-\ucf58\uc194\uc5d0\uc11c-redirect-uri-\ucd94\uac00",level:2},{value:"Step 1. \uac04\ud3b8 \ub85c\uadf8\uc778\uc73c\ub85c \uc778\uac00 \ucf54\ub4dc Redirect\ub41c \ud398\uc774\uc9c0\uc5d0\uc11c Search Parameter\ub85c \ubc1b\uc544\uc624\uae30",id:"step-1-\uac04\ud3b8-\ub85c\uadf8\uc778\uc73c\ub85c-\uc778\uac00-\ucf54\ub4dc-redirect\ub41c-\ud398\uc774\uc9c0\uc5d0\uc11c-search-parameter\ub85c-\ubc1b\uc544\uc624\uae30",level:2},{value:"Step 2. \uc778\uac00 \ucf54\ub4dc\ub85c Access Token\ubc1c\uae09\ubc1b\uae30",id:"step-2-\uc778\uac00-\ucf54\ub4dc\ub85c-access-token\ubc1c\uae09\ubc1b\uae30",level:2},{value:"\uc751\ub2f5",id:"\uc751\ub2f5",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h1,{id:"\uce74\uce74\uc624-\ub85c\uadf8\uc778-web",children:"\uce74\uce74\uc624 \ub85c\uadf8\uc778 (Web)"}),"\n",(0,c.jsx)(n.p,{children:"\uc6f9\uc5d0\uc11c \ub85c\uadf8\uc778\ud558\ub294 \ubc29\uc2dd\uc740 redirect uri\ub97c \uc774\uc6a9\ud55c \ud398\uc774\uc9c0 \uc774\ub3d9 \ubc29\uc2dd\uc774 \ub418\uc5b4\uc57c \ud558\uae30 \ub54c\ubb38\uc5d0 \ucd94\uac00\uc801\uc778 \uacfc\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.admonition,{type:"tip",children:(0,c.jsxs)(n.p,{children:["\ub85c\uadf8\uc778\uc744 \uc81c\uc678\ud55c \ub2e4\ub978 API\ub4e4\uc740 ",(0,c.jsx)(n.a,{href:"/docs/user/login",children:"\uce74\uce74\uc624 \ub85c\uadf8\uc778"}),"\uc5d0\uc11c\uc758 \ub2e4\ub978 API\ub4e4\uacfc \ub3d9\uc77c\ud558\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,c.jsx)(n.h2,{id:"\ub85c\uadf8\uc778\ud558\uae30",children:"\ub85c\uadf8\uc778\ud558\uae30"}),"\n",(0,c.jsx)(n.p,{children:"\uce74\uce74\uc624 \ub85c\uadf8\uc778\ud558\uae30\ub97c \uc774\uc6a9\ud574 \ud68c\uc6d0\uac00\uc785, \ub85c\uadf8\uc778, \ucd94\uac00 \ub3d9\uc758\ub0b4\uc5ed \ubc1b\uae30, \uc57d\uad00 \ub3d9\uc758\uc2dc\ud0a4\uae30 \ub4f1\uc744 \uc218\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.h2,{id:"\uce74\uce74\uc624-\ucf58\uc194\uc5d0\uc11c-redirect-uri-\ucd94\uac00",children:"\uce74\uce74\uc624 \ucf58\uc194\uc5d0\uc11c Redirect URI \ucd94\uac00"}),"\n",(0,c.jsx)(n.p,{children:"\uce74\uce74\uc624 \ucf58\uc194\uc758 \uce74\uce74\uc624 \ub85c\uadf8\uc778\uc5d0\uc11c Redirect URI\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{src:"https://raw.githubusercontent.com/mym0404/image-archive/master/202405030144548.webp",alt:"feat"})}),"\n",(0,c.jsx)(n.admonition,{type:"warning",children:(0,c.jsx)(n.p,{children:"\uc704 \uc608\uc2dc\ub294 \uac1c\ubc1c \ud658\uacbd\uc5d0\uc11c port 80\uc744 \uc37c\uc744 \ub54c\uc758 \uc608\uc2dc\uc785\ub2c8\ub2e4. \ud544\uc694\ud55c Redirect URI\ub97c \uc9c1\uc811 \uac1c\ubc1c\ud658\uacbd, \ub9b4\ub9ac\uc988\ud658\uacbd \ubaa8\ub450 \uae30\uc7ac\ud574\uc57c \ud569\ub2c8\ub2e4."})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"const { code } = useGlobalSearchParams<{ code?: string }>();\nconst accessTokenIssued = useRef(false);\nuseEffect(() => {\n  const go = async () => {\n    const { accessToken } = await issueAccessTokenWithCodeWeb({\n      code: code!,\n      redirectUri: 'http://localhost',\n    });\n    setAccessTokenWeb(accessToken);\n    accessTokenIssued.current = true;\n  };\n\n  if (code && !accessTokenIssued.current) {\n    go();\n  }\n}, [code]);\n"})}),"\n",(0,c.jsx)(n.h2,{id:"step-1-\uac04\ud3b8-\ub85c\uadf8\uc778\uc73c\ub85c-\uc778\uac00-\ucf54\ub4dc-redirect\ub41c-\ud398\uc774\uc9c0\uc5d0\uc11c-search-parameter\ub85c-\ubc1b\uc544\uc624\uae30",children:"Step 1. \uac04\ud3b8 \ub85c\uadf8\uc778\uc73c\ub85c \uc778\uac00 \ucf54\ub4dc Redirect\ub41c \ud398\uc774\uc9c0\uc5d0\uc11c Search Parameter\ub85c \ubc1b\uc544\uc624\uae30"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"login()"})," \ud568\uc218\ub97c \ud638\ucd9c\ud574\uc8fc\uba74 \uce74\uce74\uc624 \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:["\uc6f9 \ud50c\ub7ab\ud3fc\uc740 ",(0,c.jsx)(n.code,{children:"web"}),"\uac1d\uccb4\ub97c \uc804\ub2ec\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"web"}),"\uac1d\uccb4 \uc548\uc758 \uc778\uc790\uac00 \uc544\ub2cc \ub2e4\ub978 \uc635\uc158\ub4e4\uc740 \ubb34\uc2dc\ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:["\uc608\ub97c \ub4e4\uc5b4, ",(0,c.jsx)(n.code,{children:"prompt"}),"\ub294 ",(0,c.jsx)(n.code,{children:"web"}),"\uac1d\uccb4 \uc548\uc5d0\ub3c4 \uc788\uace0 \ubc16\uc5d0\ub3c4 \uc788\ub294\ub370 Web \ud50c\ub7ab\ud3fc\uc5d0\uc11c\ub294 \ud56d\uc0c1 ",(0,c.jsx)(n.code,{children:"web"}),"\uc548\uc5d0 \uc788\ub294 ",(0,c.jsx)(n.code,{children:"prompt"}),"\ub9cc \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"import { login } from '@react-native-kakao/user';\n\n...\n\nlogin({\n  web: {\n    redirectUri: 'http://localhost',\n    prompt: ['select_account'],\n  },\n})\n"})}),"\n",(0,c.jsx)(n.admonition,{title:"Dangerous",type:"danger",children:(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"redirectUri"}),"\ub294 \ucf58\uc194\uc5d0 \ub4f1\ub85d\ud55c \uac83, ",(0,c.jsx)(n.code,{children:"login"}),"\uc744 \ud638\ucd9c\ud560 \ub54c \uc4f0\ub294 \uac83, ",(0,c.jsx)(n.code,{children:"issueAccessTokenWithCodeWeb"}),"\ub97c \ud638\ucd9c\ud560 \ub54c \uc4f0\ub294 \uac83 \uc138 \uac00\uc9c0\uac00 \ubaa8\ub450\n\ub3d9\uc77c\ud574\uc57c \uc815\uc0c1\uc791\ub3d9\ud569\ub2c8\ub2e4."]})}),"\n",(0,c.jsxs)(n.p,{children:["\uc778\uc790\ub4e4\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \uc815\ubcf4\ub294 ",(0,c.jsx)(n.a,{href:"https://developers.kakao.com/docs/latest/ko/kakaologin/js#login",children:"\uacf5\uc2dd \ubb38\uc11c"}),"\ub97c \ucc38\uace0\ud574\uc8fc\uc138\uc694."]}),"\n",(0,c.jsx)(n.h2,{id:"step-2-\uc778\uac00-\ucf54\ub4dc\ub85c-access-token\ubc1c\uae09\ubc1b\uae30",children:"Step 2. \uc778\uac00 \ucf54\ub4dc\ub85c Access Token\ubc1c\uae09\ubc1b\uae30"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"issueAccessTokenWithCodeWeb()"})," \ud568\uc218\ub97c \ud638\ucd9c\ud558\uc5ec \uc778\uac00 \ucf54\ub4dc\ub97c \uc774\uc6a9\ud574 \uc2e4\uc81c Access Token\uc744 \ubc1c\uae09\ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:["Access Token\uc744 \ubc1c\uae09\ubc1b\uace0 \uc774\uac83\uc744 ",(0,c.jsx)(n.code,{children:"setAccessTokenWeb()"}),"\ud568\uc218\uc5d0 \uc804\ub2ec\ud574\uc8fc\uba74 \ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:["\ub2e4\uc74c\uc740 Expo router\ud658\uacbd\uc5d0\uc11c search parameter\uc5d0 \uc788\ub294 ",(0,c.jsx)(n.code,{children:"code"}),"\ub97c \uc774\uc6a9\ud574 \ub85c\uadf8\uc778\uc744 \uc644\ub8cc\ud558\ub294 \uc608\uc2dc\uc785\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"const { code } = useGlobalSearchParams<{ code?: string }>();\nconst accessTokenIssued = useRef(false);\nuseEffect(() => {\n  const go = async () => {\n    const { accessToken } = await issueAccessTokenWithCodeWeb({\n      code: code!,\n      redirectUri: 'http://localhost',\n    });\n    setAccessTokenWeb(accessToken);\n    accessTokenIssued.current = true;\n  };\n\n  if (code && !accessTokenIssued.current) {\n    go();\n  }\n}, [code]);\n"})}),"\n",(0,c.jsx)(n.admonition,{title:"TIP",type:"tip",children:(0,c.jsxs)(n.p,{children:["\uc704\ub294 \ub2e8\uc9c0 \uc608\uc2dc\uc77c \ubfd0\uc785\ub2c8\ub2e4. search parameter\uc5d0\uc11c ",(0,c.jsx)(n.code,{children:"code"}),"\ub97c \uc5bb\uc5b4 ",(0,c.jsx)(n.code,{children:"issueAccessTokenWithCodeWeb"}),", ",(0,c.jsx)(n.code,{children:"setAccessTokenWeb"}),"\n\uc744 \uc21c\uc11c\ub300\ub85c \ud638\ucd9c\ud574\uc57c \ud55c\ub2e4\ub294 \uac83\ub9cc \uc911\uc694\ud569\ub2c8\ub2e4."]})}),"\n",(0,c.jsxs)(n.p,{children:["\uc778\uc790\ub4e4\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \uc815\ubcf4\ub294 ",(0,c.jsx)(n.a,{href:"https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api#request-token-request-body",children:"\uacf5\uc2dd \ubb38\uc11c"}),"\ub97c \ucc38\uace0\ud574\uc8fc\uc138\uc694."]}),"\n",(0,c.jsx)(n.h3,{id:"\uc751\ub2f5",children:"\uc751\ub2f5"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"Promise"}),"\ub85c \ud1a0\ud070\uacfc \uad00\ub828\ub41c \uc815\ubcf4\uac00 \ubc18\ud658\ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.p,{children:"\uc751\ub2f5\uc740 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"{\n  tokenType: string;\n  accessToken: string;\n  idToken?: string;\n  expiresIn: number; // unix\n  refreshToken: string;\n  refreshTokenExpiresIn: number; // unix\n  scope?: string;\n};\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>t});var c=s(6540);const r={},o=c.createContext(r);function i(e){const n=c.useContext(o);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),c.createElement(o.Provider,{value:n},e.children)}}}]);